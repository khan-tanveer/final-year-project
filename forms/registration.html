<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />

    <title>Document</title>

    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-auth.js"></script>
  </head>
  <body>
    <button href="dashboard.html" class="btn btn-primary btn-block">
      <a href="dashboard.html"> dashboard </a>
    </button>
    <section class="container-fluid">
      <section class="row justify-content-center">
        <section class="col-12 col-sm-6 col-md-3">
          <form class="form-container">
            <div class="mb-3" id="Registration">
              <h1>SIGN UP</h1>
              <label for="exampleInputEmail1" class="form-label"
                >Email address</label
              >
              <input
                type="text"
                class="form-control"
                placeholder="Enter email "
                id="email"
                aria-describedby="emailHelp"
              />
              <!-- name="email" -->
              <div id="emailHelp" class="form-text">
                We'll never share your email with anyone else.
              </div>
            </div>
            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label"
                >Password</label
              >
              <input
                type="text"
                class="form-control"
                placeholder="password"
                id="password"
              />
              <!-- name="password" -->
            </div>
            <div class="mb-3 form-check">
              <p>
                Do you want to login
                <a href="index.html">Login form</a>
              </p>
            </div>
            <button
              type="button"
              onClick="registerUser()"
              class="btn btn-primary btn-block"
            >
              Register
            </button>
          </form>
        </section>
      </section>
    </section>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
      integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
      integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
      crossorigin="anonymous"
    ></script>

    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyBjGa9zE7lt5WEd-3rRvAUmI7t2r6WUacA",
        authDomain: "employees-payroll-location.firebaseapp.com",
        databaseURL:
          "https://employees-payroll-location-default-rtdb.firebaseio.com",
        projectId: "employees-payroll-location",
        storageBucket: "employees-payroll-location.appspot.com",
        messagingSenderId: "291692531469",
        appId: "1:291692531469:web:b62fa6da2b30f78394aa44",
        measurementId: "G-3KLJY3P367",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);

      function registerUser() {
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;

        // const auth = firebase.auth();

        //   auth
        // .createUserWithEmailAndPassword(email, password)
        // .then((auth) => {
        //   //it successfully create a new user with email and password
        //   console.log(auth);
        //   if (auth) {
        //     history.push("/");
        //   }
        // })
        // .catch((error) => alert(error.message));

        if (email.trim() == "") {
          alert("Enter Email");
        } else if (password.trim().length < 7) {
          alert("Password must be at least 7 characters");
        } else {
          firebase
            .auth()
            .createUserWithEmailAndPassword(email, password)
            .then(function () {
              alert("user register successfully");
              console.log(email, password);
            })
            .catch(function (error) {
              var errorCode = error.code;
              var errorMessage = error.message;
              alert(errorMessage);
            });
        }
      }
    </script>
  </body>
</html>
